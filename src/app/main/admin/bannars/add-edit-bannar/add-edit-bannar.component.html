<div class="content-wrapper container-xxl p-0">
    <div class="content-body">

        <app-content-header [contentHeader]="contentHeader"></app-content-header>

        <div class="card">
            <div class="card-body">

                <form [formGroup]="addBannerForm">
                    <div class="media mb-2">
                        <img class="user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer"
                            [src]="imageFile.localUrl" height="200" width="200" alt="User avatar" />

                        <div class="media-body mt-50">
                            <div class="col-12 d-flex mt-1 px-0">
                                <label class="btn btn-primary mr-75 mb-0" for="change-picture">
                                    <span class="d-none d-sm-block">تغيير</span>
                                    <input class="form-control" type="file" id="change-picture" hidden
                                        accept="image/png, image/jpeg, image/jpg" (change)="uploadImage($event)" />
                                    <span class="d-block d-sm-none">
                                        <i class="mr-0" data-feather="edit"></i>
                                    </span>
                                </label>
                                <ng-container *ngIf="bannerId" >
                                <button  (click)="removeImage()"  
                                    class="remove btn btn-outline-secondary d-none d-sm-block" rippleEffect>حذف</button>
                                <button class="btn btn-outline-secondary d-block d-sm-none" [class.mobile_button]="bannerId">
                                    <i class="mr-0" data-feather="trash-2"></i>
                                </button>
                                </ng-container>
                            </div>
                        </div>
                    </div>
                    <ul ngbNav #navQuestion="ngbNav" class="nav-tabs language justify-content-end">
                      
                        <li ngbNavItem>
                            <a ngbNavLink>العربية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">عنوان البنر بالعربي
                                        <span class="text-danger">*</span>
                                    </label>
                                    <input formControlName="bannerTitleAr" name="bannerTitleAr" type="text"
                                    [validateArabic]="BannerFormControls.bannerTitleAr"
          appArabicValidation
                                    class="form-control" placeholder="عنوان البنر بالعربي"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.bannerTitleAr.errors)
                                        ||(BannerFormControls.bannerTitleAr.errors?.['invalidArabicInput'])
                                        || (BannerFormControls.bannerTitleAr.touched && BannerFormControls.bannerTitleAr.invalid) }">
                                    <small
                                        *ngIf=" (submitted && BannerFormControls.bannerTitleAr.errors) || (BannerFormControls.bannerTitleAr.touched && BannerFormControls.bannerTitleAr.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.bannerTitleAr.errors.required">برجاء
                                            ادخال
                                            عنوان البنر بالعربي
                                        </small>
                                    </small>
                                    <div *ngIf="(submitted && BannerFormControls.bannerTitleAr.errors) || (BannerFormControls.bannerTitleAr.errors?.['invalidArabicInput'])"
                                    class="invalid-feedback">
                                    <div *ngIf="BannerFormControls.bannerTitleAr.errors?.['invalidArabicInput']">
                                    عنوان البنر يجب ان تتكون من حروف عربي</div>
                                </div>
                                </div>

                            </ng-template>
                        </li>
                        <li ngbNavItem>
                            <a ngbNavLink>الانجليزية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">عنوان البنر بالانجليزي
                                        <span class="text-danger">*</span>
                                    </label>
                                    <input formControlName="bannerTitle" name="bannerTitle" type="text"
                                        class="form-control" placeholder="عنوان البنر بالانجليزي"
                                        
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.bannerTitle.errors) || (BannerFormControls.bannerTitle.touched && BannerFormControls.bannerTitle.invalid) }">
                                    <small
                                        *ngIf=" (submitted && BannerFormControls.bannerTitle.errors) || (BannerFormControls.bannerTitle.touched && BannerFormControls.bannerTitle.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.bannerTitle.errors.required">برجاء
                                            ادخال
                                            عنوان بالانجليزي
                                        </small>
                                    </small>
                                </div>
                            </ng-template>
                        </li>
                    </ul>
                    <div [ngbNavOutlet]="navQuestion"></div>
                    <ul ngbNav #navAnswer="ngbNav" class="nav-tabs language justify-content-end">
                       
                        <li ngbNavItem>
                            <a ngbNavLink>العربية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">وصف البنر
                                        بالعربي
                                        <span class="text-danger">*</span>

                                    </label>
                                    <quill-editor bannerDescriptionAr="'bottom'" placeholder="وصف البنر بالعربي"
                                    [validateArabic]="BannerFormControls.bannerDescriptionAr"
                                    appArabicValidation  
                                    formControlName="bannerDescriptionAr" name="bannerDescriptionAr"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.bannerDescriptionAr.errors) 
                                        ||(BannerFormControls.bannerDescriptionAr.errors?.['invalidArabicInput'])

                                        || (BannerFormControls.bannerDescriptionAr.touched && BannerFormControls.bannerDescriptionAr.invalid) }"
                                        class="border-bottom-0 breif">
                                        <div quill-editor-toolbar>
                                            <div class="desc-toolbar border-top-0">
                                                <span class="ql-formats mr-0">
                                                    <button class="ql-bold"></button>
                                                    <button class="ql-italic"></button>
                                                    <button class="ql-underline"></button>
                                                    <button class="ql-align"></button>
                                                </span>
                                            </div>
                                        </div>
                                    </quill-editor>
                                    <small
                                        *ngIf=" (submitted && BannerFormControls.bannerDescriptionAr.errors) || (BannerFormControls.bannerDescriptionAr.touched && BannerFormControls.bannerDescriptionAr.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.bannerDescriptionAr.errors.required">برجاء
                                            ادخال
                                            وصف البنر بالعربي
                                        </small>
                                    </small>
                                    <div *ngIf="(submitted && BannerFormControls.bannerDescriptionAr.errors) || (BannerFormControls.bannerDescriptionAr.errors?.['invalidArabicInput'])"
                                    class="invalid-feedback">
                                    <div *ngIf="BannerFormControls.bannerDescriptionAr.errors?.['invalidArabicInput']">
                                    وصف البنر يجب ان تتكون من حروف عربي</div>
                                </div>
                                </div>

                            </ng-template>
                        </li>
                        <li ngbNavItem>
                            <a ngbNavLink>الانجليزية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">وصف البنر
                                        بالانجليزي
                                        <span class="text-danger">*</span>
                                    </label>
                                    <quill-editor name="bannerDescription" formControlName="bannerDescription"
                                        name="bannerDescription" placeholder="وصف البنر بالانجيليزي"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.bannerDescription.errors) || (BannerFormControls.bannerDescription.touched && BannerFormControls.bannerDescription.invalid) }"
                                        customToolbarPosition="'bottom'" class="border-bottom-0 breif">
                                        <div quill-editor-toolbar>
                                            <div class="desc-toolbar border-top-0">
                                                <span class="ql-formats mr-0">
                                                    <button class="ql-bold"></button>
                                                    <button class="ql-italic"></button>
                                                    <button class="ql-underline"></button>
                                                    <button class="ql-align"></button>

                                                </span>
                                            </div>
                                        </div>
                                    </quill-editor>

                                    <small
                                        *ngIf=" (submitted && BannerFormControls.bannerDescription.errors) || (BannerFormControls.bannerDescription.touched && BannerFormControls.bannerDescription.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.bannerDescription.errors.required">برجاء
                                            ادخال
                                            وصف البانر بالانجليزي
                                        </small>
                                    </small>

                                </div>
                            </ng-template>
                        </li>
                    </ul>
                    <div [ngbNavOutlet]="navAnswer"></div>
                    <div class="form-group"  *ngIf="submitted && addBannerForm.invalid">
                      
                        <div class=" p-3 alert alert-danger alert-dismissible fade show">
                            <strong>
                              ( {{ validationAllControlls }} ) {{ "مطلوب" | translate }}
                            </strong>
                            <button
                              type="button"
                              (click)="closeMessageErrors()"
                              class="close h-10"
                            >
                              <span><i class="fa fa-close" style="color: brown"></i></span>
                            </button>
                          </div>
                          
                    </div>

                    <!-- <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>عنوان البنر</label>
                                <input type="number" formControlName="bannerLink" name="bannerLink"
                                    [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.bannerLink.errors) || (BannerFormControls.bannerLink.touched && BannerFormControls.bannerLink.invalid) }"
                                    class="form-control" placeholder="عنوان البنر">
                                <small
                                    *ngIf=" (submitted && BannerFormControls.bannerLink.errors) || (BannerFormControls.bannerLink.touched && BannerFormControls.bannerLink.invalid)"
                                    class="invalid-feedback">
                                    <small *ngIf="BannerFormControls.bannerLink.errors.required">برجاء
                                        ادخال
                                        عنوان البنر
                                    </small>
                                </small>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>ترتيب البنر</label>
                                <input type="number" formControlName="sequence" name="sequence"
                                    [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.sequence.errors) || (BannerFormControls.sequence.touched && BannerFormControls.sequence.invalid) }"
                                    class="form-control" placeholder="ترتيب البنر">
                                <small
                                    *ngIf=" (submitted && BannerFormControls.sequence.errors) || (BannerFormControls.sequence.touched && BannerFormControls.sequence.invalid)"
                                    class="invalid-feedback">
                                    <small *ngIf="BannerFormControls.sequence.errors.required">برجاء
                                        ادخال
                                        ترتيب البنر
                                    </small>
                                </small>
                            </div>
                        </div>
                    </div>
                    <div class="form-group d-flex">

                        <label>حالة البنر</label>
                        <div class="custom-control custom-control-primary custom-switch">
                            <input name="status" formControlName="status" type="checkbox"
                                class="custom-control-input" id="customSwitch3" />
                            <label class="custom-control-label" for="customSwitch3"></label>
                        </div>
                    </div> -->
                    <div class="buttons justify-content-end d-flex mb-3">
                   
                        <button *ngIf="!bannerId" [disabled]="loading"
                            class="btn btn-icon btn-primary mr-25 ml-25 btn-lg" type="submit" rippleEffect
                            (click)="submitData()">
                            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>حفظ
                        </button>
                        <button [disabled]="loading" *ngIf="bannerId"
                            class="btn btn-icon btn-primary mr-25 ml-25 btn-lg" type="submit" rippleEffect
                            (click)="updateData()">
                            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>تعديل
                        </button>

                        <a *ngIf="bannerId" (click)="deleteQuestion(bannerId)"
                            class="btn btn-icon btn-danger ml-25 mr-25 btn-lg" type="button" rippleEffect>
                            <span>حذف</span>
                        </a>
                        <a routerLink="/admin/banners"
                        class="btn btn-icon btn-primary ml-25 mr-25 cancel btn-lg" type="button" rippleEffect>
                        <span>الغاء</span>
                    </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>