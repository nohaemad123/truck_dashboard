<div class="content-wrapper container-xxl p-0">
    <div class="content-body">

        <app-content-header [contentHeader]="contentHeader"></app-content-header>

        <div class="card">
            <div class="card-body">

                <form [formGroup]="addBannerForm">
                    <div class="media mb-2">
                        <img class="user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer"
                            [src]="imageFile.localUrl" height="60" width="60" alt="User avatar" />

                        <div class="media-body">
                            <div class="col-12 d-flex mt-1 px-0">
                                <label class="btn btn-primary mr-75 mb-0" for="change-picture">
                                    <span class="d-none d-sm-block">تغيير</span>
                                    <input class="form-control" type="file" id="change-picture" hidden
                                        accept="image/png, image/jpeg, image/jpg" (change)="uploadImage($event)" />
                                    <span class="d-block d-sm-none">
                                        <i class="mr-0" data-feather="edit"></i>
                                    </span>
                                </label>
                                <ng-container *ngIf="bannerId" >
                                    <button  (click)="removeImage()" 
                                        class="remove btn btn-outline-secondary d-none d-sm-block" rippleEffect>حذف</button>
                                    <button class="btn btn-outline-secondary d-block d-sm-none"  [class.mobile_button]="bannerId">
                                        <i class="mr-0" data-feather="trash-2"></i>
                                    </button>
                                    </ng-container>
                            </div>
                        </div>
                    </div>
                    <ul ngbNav #navQuestion="ngbNav" class="nav-tabs language justify-content-end">
                       
                        <li ngbNavItem>
                            <a ngbNavLink>العربية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">اسم الخدمة بالعربي
                                        <span class="text-danger">*</span>
                                    </label>
                                    <input formControlName="serviceTitleAr" name="serviceTitleAr" type="text"
                                    [validateArabic]="BannerFormControls.serviceTitleAr"
                                    appArabicValidation
                                    class="form-control" placeholder="اسم الخدمة بالعربي"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.serviceTitleAr.errors)
                                        ||(BannerFormControls.serviceTitleAr.errors?.['invalidArabicInput'])
                                        || (BannerFormControls.serviceTitleAr.touched && BannerFormControls.serviceTitleAr.invalid) }">
                                    <small
                                        *ngIf=" (submitted && BannerFormControls.serviceTitleAr.errors) || (BannerFormControls.serviceTitleAr.touched && BannerFormControls.serviceTitleAr.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.serviceTitleAr.errors.required">برجاء
                                            ادخال
                                            اسم الخدمة بالعربي
                                        </small>
                                    </small>
                                    <div *ngIf="(submitted && BannerFormControls.serviceTitleAr.errors) || (BannerFormControls.serviceTitleAr.errors?.['invalidArabicInput'])"
                                    class="invalid-feedback">
                                    <div *ngIf="BannerFormControls.serviceTitleAr.errors?.['invalidArabicInput']">
                                    اسم الخدمة ان تتكون من حروف عربي</div>
                                </div>
                                </div>

                            </ng-template>
                        </li>
                        <li ngbNavItem>
                            <a ngbNavLink>الانجليزية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">اسم الخدمة بالانجليزي
                                        <span class="text-danger">*</span>
                                    </label>
                                    <input formControlName="serviceTitle" name="serviceTitle" type="text"
                                        class="form-control" placeholder="اسم الخدمة بالانجليزي"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.serviceTitle.errors) || (BannerFormControls.serviceTitle.touched && BannerFormControls.serviceTitle.invalid) }">
                                    <small
                                        *ngIf=" (submitted && BannerFormControls.serviceTitle.errors) || (BannerFormControls.serviceTitle.touched && BannerFormControls.serviceTitle.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.serviceTitle.errors.required">برجاء
                                            ادخال
                                            اسم الخدمة بالانجليزي
                                        </small>
                                    </small>
                                </div>
                            </ng-template>
                        </li>
                    </ul>
                    <div [ngbNavOutlet]="navQuestion"></div>
                    <ul ngbNav #navAnswer="ngbNav" class="nav-tabs language justify-content-end">
                        
                        <li ngbNavItem>
                            <a ngbNavLink>العربية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">وصف الخدمة
                                        بالعربي
                                        <span class="text-danger">*</span>

                                    </label>
                                    <quill-editor customToolbarPosition="'bottom'" placeholder="وصف الخدمة بالعربي"
                                    [validateArabic]="BannerFormControls.serviceDescriptionAr"
                                    appArabicValidation
                                    formControlName="serviceDescriptionAr" name="serviceDescriptionAr"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.serviceDescriptionAr.errors)
                                        ||(BannerFormControls.serviceDescriptionAr.errors?.['invalidArabicInput'])

                                        || (BannerFormControls.serviceDescriptionAr.touched && BannerFormControls.serviceDescriptionAr.invalid) }"
                                        class="border-bottom-0 breif">
                                        <div quill-editor-toolbar>
                                            <div class="desc-toolbar border-top-0">
                                                <span class="ql-formats mr-0">
                                                    <button class="ql-bold"></button>
                                                    <button class="ql-italic"></button>
                                                    <button class="ql-underline"></button>
                                                    <button class="ql-align"></button>
                                                </span>
                                            </div>
                                        </div>
                                    </quill-editor>
                                    <small
                                        *ngIf=" (submitted && BannerFormControls.serviceDescriptionAr.errors) || (BannerFormControls.serviceDescriptionAr.touched && BannerFormControls.serviceDescriptionAr.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.serviceDescriptionAr.errors.required">برجاء
                                            ادخال
                                            وصف الخدمة بالعربي
                                        </small>
                                    </small>
                                    <div *ngIf="(submitted && BannerFormControls.serviceDescriptionAr.errors) || (BannerFormControls.serviceDescriptionAr.errors?.['invalidArabicInput'])"
                                    class="invalid-feedback">
                                    <div *ngIf="BannerFormControls.serviceDescriptionAr.errors?.['invalidArabicInput']">
                                    وصف الخدمة يجب ان تتكون من حروف عربي</div>
                                </div>
                                </div>

                            </ng-template>
                        </li>
                        <li ngbNavItem>
                            <a ngbNavLink>الانجليزية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">وصف الخدمة
                                        بالانجليزي
                                        <span class="text-danger">*</span>
                                    </label>
                                    <quill-editor name="serviceDescription" formControlName="serviceDescription" name="serviceDescription"
                                        placeholder="وصف الخدمة بالانجيليزي"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.serviceDescription.errors) || (BannerFormControls.serviceDescription.touched && BannerFormControls.serviceDescription.invalid) }"
                                        customToolbarPosition="'bottom'" class="border-bottom-0 breif">
                                        <div quill-editor-toolbar>
                                            <div class="desc-toolbar border-top-0">
                                                <span class="ql-formats mr-0">
                                                    <button class="ql-bold"></button>
                                                    <button class="ql-italic"></button>
                                                    <button class="ql-underline"></button>
                                                    <button class="ql-align"></button>

                                                </span>
                                            </div>
                                        </div>
                                    </quill-editor>

                                    <small
                                        *ngIf=" (submitted && BannerFormControls.serviceDescription.errors) || (BannerFormControls.serviceDescription.touched && BannerFormControls.serviceDescription.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.serviceDescription.errors.required">برجاء
                                            ادخال
                                            وصف الخدمة بالانجليزي
                                        </small>
                                    </small>

                                </div>
                            </ng-template>
                        </li>
                    </ul>
                    <div [ngbNavOutlet]="navAnswer"></div>
                    <div class="form-group">
                        <label class="form-control-label" for="TDRequiredField">ترتيب الخدمة
                            <span class="text-danger">*</span>

                        </label>
                        <input type="number"
                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.sort.errors) || (BannerFormControls.sort.touched && BannerFormControls.sort.invalid) }"
                        placeholder="ترتيب الخدمة" class="form-control" formControlName="sort" name="sort">
                  
                        <small
                        *ngIf=" (submitted && BannerFormControls.sort.errors) || (BannerFormControls.sort.touched && BannerFormControls.sort.invalid)"
                        class="invalid-feedback">
                        <small *ngIf="BannerFormControls.sort.errors.required">برجاء
                            ادخال
                            ترتيب الخدمة
                        </small>
                    </small>
                    </div>
                    <div class="form-group"  *ngIf="submitted && addBannerForm.invalid">
                      
                        <div class=" p-3 alert alert-danger alert-dismissible fade show">
                            <strong>
                              ( {{ validationAllControlls }} ) {{ "مطلوب" | translate }}
                            </strong>
                            <button
                              type="button"
                              (click)="closeMessageErrors()"
                              class="close h-10"
                            >
                              <span><i class="fa fa-close" style="color: brown"></i></span>
                            </button>
                          </div>
                          
                    </div>
                  
                    <div class="buttons justify-content-end d-flex mb-3">
                     
                        <button *ngIf="!bannerId" [disabled]="loading"
                            class="btn btn-icon btn-primary mr-25 ml-25 btn-lg" type="submit" rippleEffect
                            (click)="submitData()">
                            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>حفظ
                        </button>
                        <button [disabled]="loading" *ngIf="bannerId"
                            class="btn btn-icon btn-primary mr-25 ml-25 btn-lg" type="submit" rippleEffect
                            (click)="updateData()">
                            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>تعديل
                        </button>

                        <a *ngIf="bannerId" (click)="deleteQuestion(bannerId)"
                            class="btn btn-icon btn-danger ml-25 mr-25 btn-lg" type="button" rippleEffect>
                            <span>حذف</span>
                        </a>
                        <a routerLink="/admin/banners"
                        class="btn btn-icon btn-primary ml-25 mr-25 cancel btn-lg" type="button" rippleEffect>
                        <span>الغاء</span>
                    </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>