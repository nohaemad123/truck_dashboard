<div class="content-wrapper container-xxl p-0">
    <div class="content-body">

        <app-content-header [contentHeader]="contentHeader"></app-content-header>

        <div class="card">
            <div class="card-body">

                <form [formGroup]="addBannerForm">
                    <div class="media mb-2">
                        <img class="user-avatar users-avatar-shadow rounded mr-2 my-25 cursor-pointer"
                            [src]="imageFile.localUrl" height="90" width="90" alt="User avatar" />

                        <div class="media-body mt-50">
                            <div class="col-12 d-flex mt-1 px-0">
                                <label class="btn btn-primary mr-75 mb-0" for="change-picture">
                                    <span class="d-none d-sm-block">تغيير</span>
                                    <input class="form-control" type="file" id="change-picture" hidden
                                        accept="image/png, image/jpeg, image/jpg" (change)="uploadImage($event)" />
                                    <span class="d-block d-sm-none">
                                        <i class="mr-0" data-feather="edit"></i>
                                    </span>
                                </label>
                                <ng-container *ngIf="bannerId" >
                                    <button  (click)="removeImage()" 
                                        class="remove btn btn-outline-secondary d-none d-sm-block" rippleEffect>حذف</button>
                                    <button class="btn btn-outline-secondary d-block d-sm-none"  [class.mobile_button]="bannerId">
                                        <i class="mr-0" data-feather="trash-2"></i>
                                    </button>
                                    </ng-container>
                            </div>
                        </div>
                    </div>
                    <ul ngbNav #navQuestion="ngbNav" class="nav-tabs language justify-content-end">
                        <li ngbNavItem>
                            <a ngbNavLink>الانجليزية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">عنوان الصفحة بالانجليزي
                                        <span class="text-danger">*</span>
                                    </label>
                                    <input formControlName="pageTitle" name="pageTitle" type="text"
                                        class="form-control" placeholder="عنوان الصفحة بالانجليزي"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.pageTitle.errors) || (BannerFormControls.pageTitle.touched && BannerFormControls.pageTitle.invalid) }">
                                    <small
                                        *ngIf=" (submitted && BannerFormControls.pageTitle.errors) || (BannerFormControls.pageTitle.touched && BannerFormControls.pageTitle.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.pageTitle.errors.required">برجاء
                                            ادخال
                                            عنوان الصفحة بالانجليزي
                                        </small>
                                    </small>
                                </div>
                            </ng-template>
                        </li>
                        <li ngbNavItem>
                            <a ngbNavLink>العربية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">عنوان الصفحة بالعربي
                                        <span class="text-danger">*</span>
                                    </label>
                                    <input formControlName="pageTitleAr" name="pageTitleAr" type="text"
                                        class="form-control" placeholder="عنوان الصفحة بالعربي"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.pageTitleAr.errors) || (BannerFormControls.pageTitleAr.touched && BannerFormControls.pageTitleAr.invalid) }">
                                    <small
                                        *ngIf=" (submitted && BannerFormControls.pageTitleAr.errors) || (BannerFormControls.pageTitleAr.touched && BannerFormControls.pageTitleAr.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.pageTitleAr.errors.required">برجاء
                                            ادخال
                                            عنوان الصفحة بالعربي
                                        </small>
                                    </small>

                                </div>

                            </ng-template>
                        </li>
                    </ul>
                    <div [ngbNavOutlet]="navQuestion"></div>
                    <ul ngbNav #navAnswer="ngbNav" class="nav-tabs language justify-content-end">
                        <li ngbNavItem>
                            <a ngbNavLink>الانجليزية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">وصف الصفحة
                                        بالانجليزي
                                        <span class="text-danger">*</span>
                                    </label>
                                    <quill-editor name="pageDescription" formControlName="pageDescription"
                                        name="pageDescription" placeholder="وصف الصفحة بالانجيليزي"
                                        [modules]="{ syntax: true, toolbar: [['code-block']] }"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.pageDescription.errors) || (BannerFormControls.pageDescription.touched && BannerFormControls.pageDescription.invalid) }"
                                        customToolbarPosition="'bottom'" class="border-bottom-0 breif">
                                        <div quill-editor-toolbar>
                                            <span class="ql-formats">
                                              <button class="ql-bold" [title]="'Bold'"></button>
                                              <button class="ql-italic" [title]="'italic'"></button>
                                              <button class="ql-underline" [title]="'underline'"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <select class="ql-align" [title]="'Alignment'">
                                                <option selected></option>
                                                <option value="center"></option>
                                                <option value="right"></option>
                                                <option value="justify"></option>
                                              </select>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-list" value="ordered" type="button"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-link" value="ordered" type="button"></button>
                                              <button class="ql-image" value="ordered" type="button"></button>
                                              <button class="ql-video" value="ordered" type="button"></button>
                                            </span>
                                            <!-- <span class="ql-formats">
                                              <button class="ql-formula" value="ordered" type="button"></button>
                                              <button class="ql-code-block" value="ordered" type="button"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-clean" value="ordered" type="button"></button>
                                            </span> -->
                                          </div>
                                    </quill-editor>

                                    <small
                                        *ngIf=" (submitted && BannerFormControls.pageDescription.errors) || (BannerFormControls.pageDescription.touched && BannerFormControls.pageDescription.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.pageDescription.errors.required">برجاء
                                            ادخال
                                            وصف الصفحة بالانجليزي
                                        </small>
                                    </small>

                                </div>
                            </ng-template>
                        </li>
                        <li ngbNavItem>
                            <a ngbNavLink>العربية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">وصف الصفحة
                                        بالعربي
                                        <span class="text-danger">*</span>

                                    </label>
                                    <quill-editor customToolbarPosition="'bottom'" placeholder="وصف الصفحة بالعربي"
                                        formControlName="pageDescriptionAr" name="pageDescriptionAr"
                                        [modules]="{ syntax: true, toolbar: [['code-block']] }"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.pageDescriptionAr.errors) || (BannerFormControls.pageDescriptionAr.touched && BannerFormControls.pageDescriptionAr.invalid) }"
                                        class="border-bottom-0 breif">
                                        <div quill-editor-toolbar>
                                            <span class="ql-formats">
                                              <button class="ql-bold" [title]="'Bold'"></button>
                                              <button class="ql-italic" [title]="'italic'"></button>
                                              <button class="ql-underline" [title]="'underline'"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <select class="ql-align" [title]="'Alignment'">
                                                <option selected></option>
                                                <option value="center"></option>
                                                <option value="right"></option>
                                                <option value="justify"></option>
                                              </select>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-list" value="ordered" type="button"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-link" value="ordered" type="button"></button>
                                              <button class="ql-image" value="ordered" type="button"></button>
                                              <button class="ql-video" value="ordered" type="button"></button>
                                            </span>
                                            <!-- <span class="ql-formats">
                                              <button class="ql-formula" value="ordered" type="button"></button>
                                              <button class="ql-code-block" value="ordered" type="button"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-clean" value="ordered" type="button"></button>
                                            </span> -->
                                          </div>
                                    </quill-editor>
                                    <small
                                        *ngIf=" (submitted && BannerFormControls.pageDescriptionAr.errors) || (BannerFormControls.pageDescriptionAr.touched && BannerFormControls.pageDescriptionAr.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.pageDescriptionAr.errors.required">برجاء
                                            ادخال
                                            وصف الصفحة بالعربي
                                        </small>
                                    </small>

                                </div>

                            </ng-template>
                        </li>
                    </ul>
                    <div [ngbNavOutlet]="navAnswer"></div>
                    <ul ngbNav #navContent="ngbNav" class="nav-tabs language justify-content-end">
                        <li ngbNavItem>
                            <a ngbNavLink>الانجليزية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">محتوى الصفحة
                                        بالانجليزي
                                        <span class="text-danger">*</span>
                                    </label>
                                    <quill-editor id="content_editor" name="pageContent" formControlName="pageContent"
                                  style="height:400px !important"
                                    [modules]="{ syntax: true, toolbar: [['code-block']] }"
                                        name="pageContent" placeholder="محتوى الصفحة بالانجيليزي"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.pageContent.errors) || (BannerFormControls.pageContent.touched && BannerFormControls.pageContent.invalid) }"
                                        customToolbarPosition="'bottom'" class="border-bottom-0 breif">
                                        <div quill-editor-toolbar>
                                            <span class="ql-formats">
                                              <button class="ql-bold" [title]="'Bold'"></button>
                                              <button class="ql-italic" [title]="'italic'"></button>
                                              <button class="ql-underline" [title]="'underline'"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <select class="ql-align" [title]="'Alignment'">
                                                <option selected></option>
                                                <option value="center"></option>
                                                <option value="right"></option>
                                                <option value="justify"></option>
                                              </select>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-list" value="ordered" type="button"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-link" value="ordered" type="button"></button>
                                              <button class="ql-image" value="ordered" type="button"></button>
                                              <button class="ql-video" value="ordered" type="button"></button>
                                            </span>
                                            <!-- <span class="ql-formats">
                                              <button class="ql-formula" value="ordered" type="button"></button>
                                              <button class="ql-code-block" value="ordered" type="button"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-clean" value="ordered" type="button"></button>
                                            </span> -->
                                          </div>
                                    </quill-editor>

                                    <small
                                        *ngIf=" (submitted && BannerFormControls.pageContent.errors) || (BannerFormControls.pageContent.touched && BannerFormControls.pageContent.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.pageContent.errors.required">برجاء
                                            ادخال
                                            محتوي الصفحة بالانجليزي
                                        </small>
                                    </small>

                                </div>
                            </ng-template>
                        </li>
                        <li ngbNavItem>
                            <a ngbNavLink>العربية</a>
                            <ng-template ngbNavContent>
                                <div class="form-group">
                                    <label class="form-control-label" for="TDRequiredField">محتوى الصفحة
                                        بالعربي
                                        <span class="text-danger">*</span>

                                    </label>
                                    <quill-editor id="content_editor"  customToolbarPosition="'bottom'" placeholder="محتوى الصفحة بالعربي"
                                    [modules]="{ syntax: true, toolbar: [['code-block']] }"
  
                                    formControlName="pageContentAr" name="pageContentAr"
                                        [ngClass]="{ 'is-invalid':(submitted && BannerFormControls.pageContentAr.errors) || (BannerFormControls.pageContentAr.touched && BannerFormControls.pageContentAr.invalid) }"
                                        class="border-bottom-0 breif">
                                        <div quill-editor-toolbar>
                                            <span class="ql-formats">
                                              <button class="ql-bold" [title]="'Bold'"></button>
                                              <button class="ql-italic" [title]="'italic'"></button>
                                              <button class="ql-underline" [title]="'underline'"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <select class="ql-align" [title]="'Alignment'">
                                                <option selected></option>
                                                <option value="center"></option>
                                                <option value="right"></option>
                                                <option value="justify"></option>
                                              </select>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-list" value="ordered" type="button"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-link" value="ordered" type="button"></button>
                                              <button class="ql-image" value="ordered" type="button"></button>
                                              <button class="ql-video" value="ordered" type="button"></button>
                                            </span>
                                            <!-- <span class="ql-formats">
                                              <button class="ql-formula" value="ordered" type="button"></button>
                                              <button class="ql-code-block" value="ordered" type="button"></button>
                                            </span>
                                            <span class="ql-formats">
                                              <button class="ql-clean" value="ordered" type="button"></button>
                                            </span> -->
                                          </div>
                                    </quill-editor>
                                    <small
                                        *ngIf=" (submitted && BannerFormControls.pageContentAr.errors) || (BannerFormControls.pageContentAr.touched && BannerFormControls.pageContentAr.invalid)"
                                        class="invalid-feedback">
                                        <small *ngIf="BannerFormControls.pageContentAr.errors.required">برجاء
                                            ادخال
                                            محتوى الصفحة بالعربي
                                        </small>
                                    </small>

                                </div>

                            </ng-template>
                        </li>
                    </ul>
                    <div [ngbNavOutlet]="navContent"></div>
               
                    <div class="form-group d-flex">

                        <label>حالة الصفحة</label>
                        <div class="custom-control custom-control-primary custom-switch">
                            <input name="status" formControlName="status" type="checkbox"
                                class="custom-control-input" id="customSwitch3" />
                            <label class="custom-control-label" for="customSwitch3"></label>
                        </div>
                    </div>
                    <div class="buttons justify-content-end d-flex mb-3">
                     
                        <button *ngIf="!bannerId" [disabled]="loading"
                            class="btn btn-icon btn-primary mr-25 ml-25 btn-lg" type="submit" rippleEffect
                            (click)="submitData()">
                            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>حفظ
                        </button>
                        <button [disabled]="loading" *ngIf="bannerId"
                            class="btn btn-icon btn-primary mr-25 ml-25 btn-lg" type="submit" rippleEffect
                            (click)="updateData()">
                            <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>تعديل
                        </button>

                        <a *ngIf="bannerId" (click)="deleteQuestion(bannerId)"
                            class="btn btn-icon btn-danger ml-25 mr-25 btn-lg" type="button" rippleEffect>
                            <span>حذف</span>
                        </a>
                        <a routerLink="/admin/banners"
                        class="btn btn-icon btn-primary ml-25 mr-25 cancel btn-lg" type="button" rippleEffect>
                        <span>الغاء</span>
                    </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>